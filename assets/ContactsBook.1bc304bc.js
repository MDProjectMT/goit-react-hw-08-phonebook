import{r as f,j as o,a as t,p as s,F as _,u as q,b as m,f as x,s as F,d as N,e as j}from"./index.c8279900.js";import{w as k}from"./man-work.62dfa8f0.js";const z="_form_1wqu5_1",T="_button_1wqu5_18",y={form:z,button:T};function S({onSubmit:e}){const[r,i]=f.exports.useState({name:"",number:""});function n(l){const{name:c,value:u}=l.currentTarget;i(a=>({...a,[c]:u}))}function p(l){l.preventDefault();const{name:c,number:u}=r;e(c,u),i({name:"",number:""})}return o("form",{className:y.form,onSubmit:p,children:[t("label",{htmlFor:"nameId",children:"Name"}),t("input",{id:"nameId",type:"text",name:"name",pattern:"^([a-zA-Z\u0430-\u044F\u0410-\u042F]+[ ]?[a-zA-Z\u0430-\u044F\u0410-\u042F]+)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"name",value:r.name,onChange:n}),t("label",{htmlFor:"numberId",children:"Number"}),t("input",{id:"numberId",type:"tel",name:"number",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"number",value:r.number,onChange:n}),t("button",{type:"submit",className:y.button,children:"Add contact"})]})}S.propTypes={onSubmit:s.exports.func.isRequired};const I="_label_jgzzn_1",L="_input_jgzzn_7",C={label:I,input:L};function v({filter:e,onChange:r}){return t(_,{children:o("div",{style:{display:"flex",flexDirection:"column",width:"340px",padding:"15px 0 0 0",gap:"10px"},children:[t("label",{className:C.label,children:"Find contacts by name"}),t("input",{className:C.input,value:e,type:"text",name:"filter",placeholder:"write name",onChange:r})]})})}v.propTypes={filter:s.exports.string.isRequired,onChange:s.exports.func.isRequired};const R="_ul_uivqj_1",D="_li_uivqj_5",$="_button_uivqj_16",A="_focus_uivqj_33",h={ul:R,li:D,button:$,focus:A},w=({filter:e,contacts:r,onDelete:i})=>t(_,{children:t("ul",{className:h.ul,children:r.filter(n=>n.name.toLowerCase().includes(e.toLowerCase())).map(n=>o("li",{className:h.li,children:[o("span",{className:h.span,children:[n.name," : ",t("b",{children:n.number})]}),t("button",{className:h.button,type:"submit",onClick:()=>i(n.id),children:"Delete"})]},n.id))})});w.propTypes={filter:s.exports.string.isRequired,contacts:s.exports.arrayOf(s.exports.shape({id:s.exports.string.isRequired,name:s.exports.string.isRequired,number:s.exports.string})),onDelete:s.exports.func.isRequired};const E=w,J=e=>e.contacts.contacts,M=e=>{var r;return(r=e.contacts)==null?void 0:r.error},O=e=>e.contacts.loading,d={container:{minHeight:"calc(100vh - 600px)",display:"flex",alignItems:"flex-start",justifyContent:"space-around",gap:"30px",width:"100%",backgroundColor:"rgb(94, 79, 70, 0.1)",boxShadow:"rgba(94, 79, 70, 0.2) 0px 4px 15px 4px",height:"100vh",paddingTop:"15px"},container1:{backgroundImage:`url(${k})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover",width:"50%",height:"100%"},container2:{width:"50%"},titlesmall:{fontWeight:500,fontSize:24,color:"#3f342b",textAlign:"center",fontFamily:`'Gill Sans', 'Gill Sans MT', 'Calibri', 'Trebuchet MS',
    sans-serif`}};function Z(){const e=q(),r=m(M),i=m(O),n=m(J),p=m(a=>a.filter);f.exports.useEffect(()=>{e(x())},[e]),f.exports.useEffect(()=>{const a=localStorage.getItem("contacts");a&&e(x(JSON.parse(a)))},[e]),f.exports.useEffect(()=>{localStorage.setItem("contacts",JSON.stringify(n))},[n]);function l(a){e(F(a.currentTarget.value))}function c(a,b){if(n.filter(g=>g.name.toLowerCase()===a.toLowerCase()&&g.number===b).length>0){window.alert(JSON.stringify(`${a} is already in contacts`));return}e(N({name:a,number:b}))}function u(a){e(j(a))}return o("div",{style:d.container,children:[o("div",{style:d.container1,children:[t("h2",{style:d.titlesmall,children:"Phonebook"}),t(S,{onSubmit:c})]}),o("div",{style:d.container2,children:[t("h2",{style:d.titlesmall,children:"Contacts"}),t(v,{filter:p,onChange:l}),t(E,{filter:p,contacts:n,onDelete:u})]}),i&&t("p",{children:"Loading..."}),r&&o("p",{children:["Error: ",r]})]})}export{Z as default};
